# Stop Point 1.5 — Official Minecraft Installation Assistant (Parent-Guided)

**Status**: Planning phase — NO IMPLEMENTATION

This document defines Stop Point 1.5 for Layer 1 — Ownership & Launch Control.

---

## Stop Point 1.5 — Official Minecraft Installation Assistant (Parent-Guided)

### Definition

A single-button, parent-friendly "Install Minecraft" experience that guides parents through installing the official Minecraft Launcher using Microsoft-approved distribution paths. The feature keeps parents inside MineAnvil, shows visible progress, and avoids sending parents to minecraft.net. It uses official Microsoft distribution paths only (WinGet, Microsoft Store, or legacy MSI as fallbacks) and remains fully compliant with Microsoft policies. It does NOT distribute Minecraft binaries, bypass Microsoft account or ownership checks, or introduce child-facing UI.

### Purpose

SP1.5 extends Layer 1 by addressing parent onboarding and installation friction. It provides a calm, predictable installation experience that:

- Keeps parents inside MineAnvil during installation
- Shows visible progress throughout the installation process
- Avoids redirecting parents to external websites
- Uses only official Microsoft distribution paths
- Remains fully compliant with Microsoft policies
- Does NOT distribute Minecraft binaries
- Does NOT bypass Microsoft account or ownership checks

### Why This Exists Now

Layer 1 (SP1.1–SP1.3) assumes Minecraft is already installed. SP1.5 addresses the reality that parents may need to install Minecraft before MineAnvil can launch it. This stop point bridges the gap between "Minecraft not found" and "Minecraft ready to launch" by providing a guided, parent-safe installation experience that uses only official Microsoft distribution methods.

---

## Explicit Non-Goals (Non-Negotiable)

SP1.5 does NOT:

- Host or redistribute Minecraft installers
- Bundle Minecraft with MineAnvil
- Bypass Microsoft account login
- Bypass ownership checks
- Silently install legacy `.msi` installers
- Treat legacy install as equivalent to Store install
- Introduce child-facing UI
- Auto-launch Minecraft without parent intent
- Redirect parents to minecraft.net
- Use unofficial or third-party installers
- Modify or patch Minecraft installers
- Skip Microsoft sign-in requirements
- Install Minecraft without explicit parent confirmation

---

## UX Contract

### Primary Action

**Single primary button**: **"Install Minecraft"**

- Button is visible only when Minecraft is not detected
- Button uses calm, parent-safe language
- Button triggers installation flow with explicit parent confirmation
- Button is disabled during installation process
- Button shows progress state during installation

### Language & Tone

- Calm, parent-safe language throughout
- No technical jargon in parent-facing copy
- Clear explanations when fallbacks occur
- No urgency, no pressure, no teaching tone
- Read-only visibility unless parent explicitly clicks install

### Progress Visibility

Installation progress must be visible and clear:

- **Preparing**: Checking system requirements and availability
- **Downloading**: Downloading installer or package (if applicable)
- **Installing**: Installation in progress
- **Verifying**: Confirming installation success

Progress states are displayed in plain language, not technical terms.

### Fallback Communication

When fallbacks occur (WinGet → Store → MSI), parents must be informed:

- Clear explanation of why fallback is needed
- What the fallback method is
- What to expect during the fallback process
- No technical jargon or blame language

---

## Installation Decision Tree

### Default Path (Required): WinGet Installation

**Command:**
```
winget install -e --id Mojang.MinecraftLauncher --accept-source-agreements --accept-package-agreements
```

**Requirements:**
- Detect whether WinGet is available on the system
- Capture stdout/stderr for progress reporting
- Drive a simple progress state machine:
  - **Preparing**: Checking WinGet availability
  - **Downloading**: WinGet downloading package
  - **Installing**: WinGet installing package
  - **Verifying**: Checking for launcher presence
- Detect successful installation by launcher presence
- Handle WinGet errors gracefully with clear messages

**Success Detection:**
- Check for Minecraft Launcher executable in standard locations
- Verify launcher is accessible and functional
- If detected, mark installation as complete

**Error Handling:**
- If WinGet is missing: fall back to Microsoft Store
- If WinGet is blocked: fall back to Microsoft Store
- If WinGet fails: fall back to Microsoft Store
- All errors must be logged and displayed in plain language

### Automatic Fallback: Microsoft Store Deep-Link

**Used ONLY if:**
- WinGet is missing
- WinGet is blocked
- WinGet installation fails

**Behaviour:**
- Open Microsoft Store to the official Minecraft Launcher page using deep-link
- Display "Waiting for install to complete…" message
- Poll system state until launcher is detected
- Do NOT redirect to minecraft.net
- Provide clear instructions if manual intervention is needed

**Deep-Link Format:**
```
ms-windows-store://pdp/?ProductId=<MinecraftLauncherProductId>
```

**Polling:**
- Check for launcher presence at regular intervals
- Show progress indicator during polling
- Timeout after reasonable period with clear message
- Do not auto-close Store window

**Success Detection:**
- Same as WinGet: check for launcher executable
- Verify launcher is accessible and functional

### Explicit Last-Resort Fallback: Legacy MSI Installer

**Rules:**
- Never default
- Never silent
- Must require explicit parent confirmation
- Must use official, unmodified `.msi` installer
- Must include checksum verification
- Must display warnings:
  - Limited auto-updates
  - Legacy compatibility path
  - Manual Microsoft sign-in required after install
- Must require Microsoft sign-in after install

**Confirmation Dialog:**
- Clear explanation of why MSI is being used
- Explicit warnings about limitations
- Explicit confirmation required
- No pre-checked boxes or auto-proceed

**MSI Source:**
- Official Microsoft/Mojang download URL only
- Checksum verification before execution
- No modifications or patches
- Full installer, not silent mode

**Post-Install:**
- Verify installation success
- Remind parent that Microsoft sign-in is required
- Do not auto-launch Minecraft

---

## Safety, Compliance & Responsibility Boundaries

### Microsoft Policy Compliance

SP1.5 must remain fully compliant with Microsoft policies:

- Uses only official Microsoft distribution paths
- Does not redistribute Minecraft binaries
- Does not bypass Microsoft account requirements
- Does not bypass ownership verification
- Does not modify or patch official installers
- Respects Microsoft Store terms of service
- Respects WinGet terms of service

### Responsibility Boundary

MineAnvil's responsibility:

- **Provides**: Installation guidance and progress visibility
- **Uses**: Official Microsoft distribution methods
- **Does NOT**: Distribute, modify, or bypass official installers
- **Does NOT**: Guarantee installation success (system-dependent)
- **Does NOT**: Bypass Microsoft account or ownership checks
- **Does NOT**: Install Minecraft without explicit parent confirmation

Microsoft's responsibility:

- Providing official installers and distribution methods
- Verifying Microsoft account and ownership
- Managing Minecraft Launcher updates
- Handling Microsoft Store transactions

### Security & Safety

- All downloads must be from official Microsoft sources
- All checksums must be verified before execution
- No silent installations without explicit confirmation
- No modifications to official installers
- No bypassing of security checks
- All errors must be logged and displayed

### Parent Control

- Installation requires explicit parent confirmation
- No auto-installation without consent
- No auto-launch after installation
- Clear visibility of installation progress
- Clear communication of fallback reasons
- No hidden or silent operations

---

## Acceptance Criteria

SP1.5 is complete ONLY when:

1. **Primary Installation Path (WinGet)**
   - [ ] WinGet availability is detected
   - [ ] WinGet installation command executes correctly
   - [ ] Progress states are displayed: Preparing, Downloading, Installing, Verifying
   - [ ] Installation success is detected by launcher presence
   - [ ] WinGet errors are handled gracefully with clear messages

2. **Automatic Fallback (Microsoft Store)**
   - [ ] Fallback triggers when WinGet is missing, blocked, or fails
   - [ ] Microsoft Store deep-link opens to official Minecraft Launcher page
   - [ ] "Waiting for install to complete…" message is displayed
   - [ ] System state is polled until launcher is detected
   - [ ] No redirect to minecraft.net occurs
   - [ ] Clear instructions are provided if manual intervention is needed

3. **Explicit Last-Resort Fallback (MSI)**
   - [ ] MSI fallback never defaults (requires explicit confirmation)
   - [ ] MSI fallback never runs silently
   - [ ] Confirmation dialog displays warnings about limitations
   - [ ] Official, unmodified MSI installer is used
   - [ ] Checksum verification is performed before execution
   - [ ] Warnings about limited auto-updates and legacy path are displayed
   - [ ] Parent is reminded that Microsoft sign-in is required after install

4. **UX Requirements**
   - [ ] Single primary button: "Install Minecraft"
   - [ ] Button is visible only when Minecraft is not detected
   - [ ] Button is disabled during installation process
   - [ ] Progress states are displayed in plain language
   - [ ] All copy is calm and parent-safe
   - [ ] No technical jargon in parent-facing copy
   - [ ] No urgency, pressure, or teaching tone
   - [ ] Fallback reasons are clearly explained

5. **Safety & Compliance**
   - [ ] Only official Microsoft distribution paths are used
   - [ ] No Minecraft binaries are distributed by MineAnvil
   - [ ] No Microsoft account or ownership checks are bypassed
   - [ ] All downloads are from official Microsoft sources
   - [ ] All checksums are verified before execution
   - [ ] No silent installations without explicit confirmation
   - [ ] No modifications to official installers

6. **Parent Control**
   - [ ] Installation requires explicit parent confirmation
   - [ ] No auto-installation without consent
   - [ ] No auto-launch after installation
   - [ ] Clear visibility of installation progress
   - [ ] Clear communication of fallback reasons
   - [ ] No hidden or silent operations

7. **Error Handling**
   - [ ] All errors are logged and displayed in plain language
   - [ ] WinGet errors trigger Store fallback
   - [ ] Store errors trigger MSI fallback (with confirmation)
   - [ ] MSI errors display clear failure message
   - [ ] No silent failures or hidden errors

8. **Technical Constraints**
   - [ ] No child-facing UI is introduced
   - [ ] No changes to existing Layer 1 behaviour
   - [ ] Installation detection does not interfere with SP1.1–SP1.3
   - [ ] No routing changes beyond installation flow
   - [ ] All installation logic is isolated and testable

---

## Validation Checklist

Before marking SP1.5 complete, verify:

- [ ] "Install Minecraft" button appears when Minecraft is not detected
- [ ] Button uses calm, parent-safe language
- [ ] WinGet installation path works on systems with WinGet available
- [ ] Progress states (Preparing, Downloading, Installing, Verifying) are displayed
- [ ] Installation success is detected by launcher presence
- [ ] WinGet errors trigger Store fallback automatically
- [ ] Microsoft Store deep-link opens to official Minecraft Launcher page
- [ ] "Waiting for install to complete…" message is displayed during Store fallback
- [ ] System state is polled until launcher is detected
- [ ] No redirect to minecraft.net occurs
- [ ] MSI fallback requires explicit parent confirmation
- [ ] MSI confirmation dialog displays warnings about limitations
- [ ] Official, unmodified MSI installer is used
- [ ] Checksum verification is performed before MSI execution
- [ ] Warnings about limited auto-updates and legacy path are displayed
- [ ] Parent is reminded that Microsoft sign-in is required after MSI install
- [ ] All copy is calm and parent-safe throughout
- [ ] No technical jargon in parent-facing copy
- [ ] No urgency, pressure, or teaching tone
- [ ] Fallback reasons are clearly explained
- [ ] Only official Microsoft distribution paths are used
- [ ] No Minecraft binaries are distributed by MineAnvil
- [ ] No Microsoft account or ownership checks are bypassed
- [ ] All downloads are from official Microsoft sources
- [ ] All checksums are verified before execution
- [ ] No silent installations without explicit confirmation
- [ ] Installation requires explicit parent confirmation
- [ ] No auto-installation without consent
- [ ] No auto-launch after installation
- [ ] All errors are logged and displayed in plain language
- [ ] No child-facing UI is introduced
- [ ] No changes to existing Layer 1 behaviour
- [ ] Installation detection does not interfere with SP1.1–SP1.3
- [ ] SP1.5 definition is satisfied and nothing else is advanced

---

## INSERT INTO STOP POINTS CHECKLIST

Add the following section to `docs/STOP_POINTS.md` under "Layer 1 — Ownership & Launch Control", after Stop Point 1.3 and before "Layer 1 Completion Criteria":

```markdown
## Stop Point 1.5 — Official Minecraft Installation Assistant (Parent-Guided)

Definition:
A single-button, parent-friendly "Install Minecraft" experience that guides parents through installing the official Minecraft Launcher using Microsoft-approved distribution paths. The feature keeps parents inside MineAnvil, shows visible progress, and avoids sending parents to minecraft.net. It uses official Microsoft distribution paths only (WinGet, Microsoft Store, or legacy MSI as fallbacks) and remains fully compliant with Microsoft policies. It does NOT distribute Minecraft binaries, bypass Microsoft account or ownership checks, or introduce child-facing UI.

### Primary Installation Path (WinGet)
- [ ] WinGet availability is detected
- [ ] WinGet installation command executes correctly
- [ ] Progress states are displayed: Preparing, Downloading, Installing, Verifying
- [ ] Installation success is detected by launcher presence
- [ ] WinGet errors are handled gracefully with clear messages

### Automatic Fallback (Microsoft Store)
- [ ] Fallback triggers when WinGet is missing, blocked, or fails
- [ ] Microsoft Store deep-link opens to official Minecraft Launcher page
- [ ] "Waiting for install to complete…" message is displayed
- [ ] System state is polled until launcher is detected
- [ ] No redirect to minecraft.net occurs
- [ ] Clear instructions are provided if manual intervention is needed

### Explicit Last-Resort Fallback (MSI)
- [ ] MSI fallback never defaults (requires explicit confirmation)
- [ ] MSI fallback never runs silently
- [ ] Confirmation dialog displays warnings about limitations
- [ ] Official, unmodified MSI installer is used
- [ ] Checksum verification is performed before execution
- [ ] Warnings about limited auto-updates and legacy path are displayed
- [ ] Parent is reminded that Microsoft sign-in is required after install

### UX Requirements
- [ ] Single primary button: "Install Minecraft"
- [ ] Button is visible only when Minecraft is not detected
- [ ] Button is disabled during installation process
- [ ] Progress states are displayed in plain language
- [ ] All copy is calm and parent-safe
- [ ] No technical jargon in parent-facing copy
- [ ] No urgency, pressure, or teaching tone
- [ ] Fallback reasons are clearly explained

### Safety & Compliance
- [ ] Only official Microsoft distribution paths are used
- [ ] No Minecraft binaries are distributed by MineAnvil
- [ ] No Microsoft account or ownership checks are bypassed
- [ ] All downloads are from official Microsoft sources
- [ ] All checksums are verified before execution
- [ ] No silent installations without explicit confirmation
- [ ] No modifications to official installers

### Parent Control
- [ ] Installation requires explicit parent confirmation
- [ ] No auto-installation without consent
- [ ] No auto-launch after installation
- [ ] Clear visibility of installation progress
- [ ] Clear communication of fallback reasons
- [ ] No hidden or silent operations

### Error Handling
- [ ] All errors are logged and displayed in plain language
- [ ] WinGet errors trigger Store fallback
- [ ] Store errors trigger MSI fallback (with confirmation)
- [ ] MSI errors display clear failure message
- [ ] No silent failures or hidden errors

### Technical Constraints
- [ ] No child-facing UI is introduced
- [ ] No changes to existing Layer 1 behaviour
- [ ] Installation detection does not interfere with SP1.1–SP1.3
- [ ] No routing changes beyond installation flow
- [ ] All installation logic is isolated and testable

### Explicit Non-Goals (Not Implemented)
SP1.5 does NOT include:
- Hosting or redistributing Minecraft installers
- Bundling Minecraft with MineAnvil
- Bypassing Microsoft account login
- Bypassing ownership checks
- Silently installing legacy `.msi` installers
- Treating legacy install as equivalent to Store install
- Introducing child-facing UI
- Auto-launching Minecraft without parent intent
- Redirecting parents to minecraft.net
- Using unofficial or third-party installers
- Modifying or patching Minecraft installers
- Skipping Microsoft sign-in requirements
- Installing Minecraft without explicit parent confirmation

Evidence / notes:
- [ ] Planning document: `prompts/01-execution/L1/SP1.5/01-sp1.5-definition.md`
- [ ] Implementation evidence (when complete)

**Current Status**: ⏳ **SP1.5 is PLANNED** (not yet implemented).
```

---

## Notes for Implementation Phase

When SP1.5 moves to implementation:

1. **Minecraft Detection**: Implement detection logic that checks for Minecraft Launcher in standard Windows locations. This should integrate with existing Layer 1 detection logic without interfering with SP1.1–SP1.3.

2. **WinGet Integration**: Use Node.js child process to execute WinGet commands. Capture stdout/stderr for progress reporting. Handle WinGet availability detection before attempting installation.

3. **Progress State Machine**: Implement a simple state machine for installation progress (Preparing, Downloading, Installing, Verifying). Update UI based on state changes.

4. **Microsoft Store Deep-Link**: Use `shell.openExternal()` to open Microsoft Store deep-link. Implement polling mechanism to detect launcher installation completion.

5. **MSI Fallback**: Implement confirmation dialog with explicit warnings. Download official MSI from Microsoft source with checksum verification. Execute MSI with appropriate flags (not silent).

6. **Error Handling**: All errors must be logged and displayed in plain language. Fallback chain must be clear and predictable.

7. **UI Location**: Add "Install Minecraft" button to appropriate location in Home screen (likely in Environment Status section or as separate card). Button should be visible only when Minecraft is not detected.

8. **Styling**: Reuse existing card patterns and styling. Keep UI calm and parent-safe. No excitement language or pressure.

9. **Testing**: Test all three installation paths (WinGet, Store, MSI) on clean Windows systems. Verify fallback chain works correctly. Verify no interference with existing Layer 1 functionality.

10. **Compliance**: Verify all distribution methods comply with Microsoft policies. Ensure no binaries are redistributed. Ensure no bypassing of Microsoft account or ownership checks.

---

**Document Status**: Planning complete. Ready for review before implementation.



