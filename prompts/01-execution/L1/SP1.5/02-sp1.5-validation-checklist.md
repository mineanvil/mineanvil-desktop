# SP1.5 Validation Checklist

This checklist verifies that SP1.5 (Official Minecraft Installation Assistant) is correctly implemented according to the definition.

## Primary Installation Path (WinGet)

- [ ] WinGet availability is detected correctly
- [ ] WinGet installation command executes: `winget install -e --id Mojang.MinecraftLauncher --accept-source-agreements --accept-package-agreements`
- [ ] Progress states update correctly:
  - [ ] "Preparing" state appears when checking system requirements
  - [ ] "Downloading" state appears during download
  - [ ] "Installing" state appears during installation
  - [ ] "Verifying" state appears when checking for launcher
- [ ] Installation success is detected by launcher presence check
- [ ] WinGet errors are handled gracefully with clear, parent-safe messages
- [ ] Cancel button works during WinGet installation

## Automatic Fallback (Microsoft Store)

- [ ] Fallback triggers when WinGet is missing
- [ ] Fallback triggers when WinGet is blocked
- [ ] Fallback triggers when WinGet installation fails
- [ ] Microsoft Store deep-link opens to official Minecraft Launcher page
- [ ] "Waiting for install to complete…" message is displayed
- [ ] System state is polled until launcher is detected
- [ ] No redirect to minecraft.net occurs
- [ ] Clear instructions are provided if manual intervention is needed
- [ ] "Recheck now" link works (if implemented)

## Explicit Last-Resort Fallback (MSI)

- [ ] MSI fallback never defaults (requires explicit confirmation)
- [ ] MSI fallback never runs silently
- [ ] "Having trouble installing?" link appears when installation fails
- [ ] Confirmation dialog displays warnings about limitations:
  - [ ] "This is a fallback option for restricted PCs"
  - [ ] "It may not update automatically"
  - [ ] "You will still need to sign in"
- [ ] MSI file picker works (when implemented)
- [ ] Checksum verification is performed before execution (when implemented)
- [ ] Parent is reminded that Microsoft sign-in is required after install

## UX Requirements

- [ ] "Install Minecraft" button appears when Minecraft Launcher is not detected
- [ ] Button is visible only when `minecraftLauncherInstalled === false`
- [ ] Button is disabled during installation process
- [ ] Progress states are displayed in plain language (no technical jargon)
- [ ] All copy is calm and parent-safe
- [ ] No technical jargon in parent-facing copy
- [ ] No urgency, pressure, or teaching tone
- [ ] Fallback reasons are clearly explained when fallbacks occur
- [ ] Button shows "Installing..." during installation

## Safety & Compliance

- [ ] Only official Microsoft distribution paths are used
- [ ] No Minecraft binaries are distributed by MineAnvil
- [ ] No Microsoft account or ownership checks are bypassed
- [ ] All downloads are from official Microsoft sources (WinGet/Store)
- [ ] All checksums are verified before execution (MSI path)
- [ ] No silent installations without explicit confirmation
- [ ] No modifications to official installers

## Parent Control

- [ ] Installation requires explicit parent confirmation (button click)
- [ ] No auto-installation without consent
- [ ] No auto-launch after installation
- [ ] Clear visibility of installation progress
- [ ] Clear communication of fallback reasons
- [ ] No hidden or silent operations
- [ ] Cancel option is available during installation

## Error Handling

- [ ] All errors are logged and displayed in plain language
- [ ] WinGet errors trigger Store fallback automatically
- [ ] Store errors show clear message (MSI option available)
- [ ] MSI errors display clear failure message
- [ ] No silent failures or hidden errors
- [ ] Error messages are parent-safe and non-technical

## Technical Constraints

- [ ] No child-facing UI is introduced
- [ ] No changes to existing Layer 1 behaviour
- [ ] Installation detection does not interfere with SP1.1–SP1.3
- [ ] No routing changes beyond installation flow
- [ ] All installation logic is isolated and testable
- [ ] IPC handlers are properly registered
- [ ] Progress events are sent via `webContents.send`

## Integration

- [ ] `checkMinecraftLauncher` IPC handler works
- [ ] `installMinecraftLauncher` IPC handler works
- [ ] `cancelMinecraftLauncherInstall` IPC handler works
- [ ] Progress events are received in renderer
- [ ] UI updates correctly based on installation state
- [ ] Launcher detection runs on app startup

## Evidence Requirements

- [ ] Screenshot: Install button when launcher not detected (`sp1.5-install-idle.png`)
- [ ] Screenshot: Installation progress state (`sp1.5-install-progress.png`)
- [ ] Screenshot: Store fallback triggered (`sp1.5-store-fallback.png`)
- [ ] Screenshot: MSI warning dialog (`sp1.5-msi-warning.png`)
- [ ] Validation run document completed with test results

## Known Limitations

- MSI file picker requires Electron dialog integration (not yet implemented)
- MSI checksum verification requires official source URL confirmation (not yet implemented)
- Store polling timeout may need adjustment based on real-world testing

